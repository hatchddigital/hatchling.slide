!function(a){"use strict";window.Slide=a(window.jQuery)}(function(a){"use strict";Date.now||function(){return(new Date).getTime()};a.fn.reverse=[].reverse;var c=function(c,d){return this.options=a.extend({loop:!1,onChange:null,onInit:null,grouping:1,breakpoints:null},d),this.onChange=this.options.onChange,this.onInit=this.options.onInit,this._element=a(c),this._items=this._element.find(".slide-item"),this._translate=0,this._current=a(this._items.filter(".state-current")),this._current.length&&this._current_length==this.options.grouping||(this._current=this._items.slice(0,this.options.grouping),this._current.addClass("state-current")),this.setCurrent=this.supportsTransform()?this._setCurrent:this._setCurrentSansTransition,null!==this.options.breakpoints?(this._bindBreakpoints(this.options.breakpoints.sort(function(a,b){return a.width>b.width})),this.setGrouping(1),a(window).trigger("resize")):this.setGrouping(this.options.grouping),this._bind(),this._draw(),this._element.trigger("init",this._current),this};return c.prototype._draw=function(){this._updateControls(),this._element.find(".slide-items").css("width",(100*(this._items.length/this._grouping)).toString()+"%"),this._items.css("width",(100/this._items.length).toString()+"%");var a=this._element.find(".slide-item").length;return this._element.find(".slide-items").attr("data-count",a),this},c.prototype._nextSlide=function(a){return this._grouping>0?a.first().nextAll().andSelf().slice(this._grouping,2*this._grouping):a.next()},c.prototype._prevSlide=function(a){return this._grouping>0?a.first().prevAll().slice(0,this._grouping).reverse():a.prev()},c.prototype._bindBreakpoints=function(b){var c=this;a(window).on("resize",function(){c.resizeWaitEvent&&window.clearTimeout(c.resizeWaitEvent),c.resizeWaitEvent=window.setTimeout(function(){for(var a,d=c._windowWidth(),e=b.length-1;e>=0;e--)if(a=b[e],a.width<d)return c.setGrouping(a.grouping),void c.setCurrent(c._current);c.setGrouping(c.options.grouping),c.setCurrent(c._current)},1e3)})},c.prototype._windowWidth=function(){if("undefined"==typeof window.orientation||null===window.orientation)return a(window).width();var b=a(window).width(),c=a(window).height();switch(window.orientation){case-90:case 90:return b>c?b:c;default:return b<c?b:c}},c.prototype.setGrouping=function(a){this._grouping=a,this._draw()},c.prototype.getGrouping=function(){return this._grouping},c.prototype.supportsTransform=function(){var b,a=["transform","WebkitTransform","MozTransform","OTransform","msTransform"];for(b=0;b<a.length;b++)if(void 0!==document.createElement("div").style[a[b]])return!0;return!1},c.prototype._bind=function(){var b=this;return this._element.find(".slide-next").on("click",function(a){b.next(),a.preventDefault()}),this._element.find(".slide-prev").on("click",function(a){b.prev(),a.preventDefault()}),this._element.find(".slide-select").on("click",function(c){var d=a(this),e=b._element.find(d.attr("href"));b.setCurrent(e),c.preventDefault()}),this._element.on("change",function(a,c,d){"function"==typeof b.onChange&&b.onChange.call(this,a,c,d)}),this._element.on("init",function(a,c){"function"==typeof b.onInit&&b.onInit.call(this,a,c),b.first()}),this._element.find(".slide-bullets .slide-bullet").on("click",function(c){b.nth(a(this).index()),c.preventDefault()}),this._element.find(".slide-item").on("swipeleft",function(a){b.next(),a.preventDefault()}),this._element.find(".slide-item").on("swiperight",function(a){b.prev(),a.preventDefault()}),this._element.find(".slide-item").on("movestart",function(a){(a.distX>a.distY&&a.distX<-a.distY||a.distX<a.distY&&a.distX>-a.distY)&&a.preventDefault(),b._element.addClass("no-transition")}),this._element.find(".slide-item").on("move",function(c){var d=c.distX/a(this).width()*100;b._items.css("transform","translateX("+(b._translate+d)+"%)")}),this._element.find(".slide-item").on("moveend",function(a){b._element.removeClass("no-transition"),b._items.css("transform","translateX("+b._translate.toString()+"%)")}),this},c.prototype.prev=function(){this.hasLess()?this.setCurrent(this._prevSlide(this._current)):this.options.loop===!0&&this.setCurrent(this._items.last(),!0)},c.prototype.next=function(){this.hasMore()?this.setCurrent(this._nextSlide(this._current)):this.options.loop===!0&&this.setCurrent(this._items.first(),!0)},c.prototype.first=function(){this.setCurrent(this._items.first())},c.prototype.nth=function(a){a>=0&&a<this._items.length&&this.setCurrent(this._items[a])},c.prototype._setCurrentSansTransition=function(b){for(var c=a(b),d=this._current,e=this._items.index(c.first()),f=e+(this._grouping-1),g=0;g<this._items.length;++g)g<e?a(this._items[g]).hide().removeClass("state-current"):g>=e&&g<=f?a(this._items[g]).show().addClass("state-current"):a(this._items[g]).hide().removeClass("state-current");this._current=c,this._element.trigger("change",[this._current,d]),this._updateControls()},c.prototype._setCurrent=function(b,c){var h,i,d=a(b),e=this._current,f=this._items.index(d.first()),g=this._items.index(e.first());if(f!==-1){if(f>=g?(i=-100*(this._items.length-this._grouping),h=this._translate-100*(f-g),this._translate=Math.max(i,h)):(h=this._translate+100*(g-f),this._translate=Math.min(0,h)),this._items.css("transform","translateX("+this._translate.toString()+"%)"),c){var j=this;this._items.addClass("paused"),setTimeout(function(){j._items.removeClass("paused")},100)}e.removeClass("state-current"),this._current=d.addClass("state-current"),this._element.trigger("change",[this._current,e]);var k=a(this._current).find("img"),l=k.attr("data-src");if(l&&l!=k.attr("src")){var m=new window.Image;m.src=l,m.complete||m.width+m.height>0?k.attr("src",l):m.onload=function(){k.attr("src",l)}}this._updateControls()}},c.prototype.hasMore=function(){return this._items.index(this._current)+this._grouping<this._items.length},c.prototype.hasLess=function(){return this._items.index(this._current)>0},c.prototype._updateControls=function(){var a=this._element.find(".slide-prev"),b=this._element.find(".slide-next"),c=this._element.find(".slide-bullets .slide-bullet");c.length&&(c.removeClass("state--active"),c.eq(this._items.index(this._current)).addClass("state--active")),this.options.loop||(this.hasLess()?a.removeClass("state-inactive"):a.addClass("state-inactive"),this.hasMore()?b.removeClass("state-inactive"):b.addClass("state-inactive"))},a.fn.slide=function(b,d){return b=b||{},this.each(function(){var e=a(this).data("slide");e&&!d||(e=new c(this,b),a(this).data("slide",e))})},c});